<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Table Value Formatting — frmt • tfrmt</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Table Value Formatting — frmt"><meta name="description" content='These functions provide an abstracted way to approach to define formatting of table
contents. By defining in this way, the formats can be
layered to be more specific and general cell styling can be done first.
frmt() is the base definition of a format. This defines spacing, rounding,
and missing behaviour.
frmt_combine() is used when two or more rows need to be combined into a
single cell in the table. Each of the rows needs to have a defined frmt()
and need to share a label.
frmt_when() is used when a rows format behaviour is dependent on the value itself and is written similarly to dplyr::case_when().
The left hand side of the equation is a "TRUE"for the default case or the right hand side of a boolean expression "&amp;gt;50".'><meta property="og:description" content='These functions provide an abstracted way to approach to define formatting of table
contents. By defining in this way, the formats can be
layered to be more specific and general cell styling can be done first.
frmt() is the base definition of a format. This defines spacing, rounding,
and missing behaviour.
frmt_combine() is used when two or more rows need to be combined into a
single cell in the table. Each of the rows needs to have a defined frmt()
and need to share a label.
frmt_when() is used when a rows format behaviour is dependent on the value itself and is written similarly to dplyr::case_when().
The left hand side of the equation is a "TRUE"for the default case or the right hand side of a boolean expression "&amp;gt;50".'><meta property="og:image" content="https://gsk-biostatistics.github.io/tfrmt/reference/figures/tfrmt.png"><meta property="og:image:alt" content="tfrmt Hex Sticker"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tfrmt</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.1.3.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Table Components</h6></li>
    <li><a class="dropdown-item" href="../articles/building_blocks.html">Building Blocks</a></li>
    <li><a class="dropdown-item" href="../articles/body_plan.html">Body Plan</a></li>
    <li><a class="dropdown-item" href="../articles/row_grp_plan.html">Row Group Plan</a></li>
    <li><a class="dropdown-item" href="../articles/col_plan.html">Column Plan</a></li>
    <li><a class="dropdown-item" href="../articles/col_style_plan.html">Column Style Plan</a></li>
    <li><a class="dropdown-item" href="../articles/big_ns.html">Big N's</a></li>
    <li><a class="dropdown-item" href="../articles/footnote_plan.html">Footnote Plan</a></li>
    <li><a class="dropdown-item" href="../articles/page_plan.html">Page Plan</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Building Tables</h6></li>
    <li><a class="dropdown-item" href="../articles/examples.html">Examples</a></li>
    <li><a class="dropdown-item" href="../articles/layer.html">Layering tfrmts</a></li>
    <li><a class="dropdown-item" href="../articles/building_mocks.html">Building Mocks</a></li>
    <li><a class="dropdown-item" href="../articles/templates.html">Creating Template tfrmts</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>More</h6></li>
    <li><a class="dropdown-item" href="../articles/json.html">JSON metadata</a></li>
    <li><a class="dropdown-item" href="../articles/print_to_ggplot.html">Print to ggplot</a></li>
    <li><a class="dropdown-item" href="../articles/faq.html">FAQ</a></li>
    <li><a class="dropdown-item" href="../articles/mock_examples.html">Mock Examples</a></li>
    <li><a class="dropdown-item" href="../articles/unusual_tables.html">Unusual Tables</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/GSK-Biostatistics/tfrmt/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Table Value Formatting</h1>
      <small class="dont-index">Source: <a href="https://github.com/GSK-Biostatistics/tfrmt/blob/main/R/frmt_plans.R" class="external-link"><code>R/frmt_plans.R</code></a></small>
      <div class="d-none name"><code>frmt.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>These functions provide an abstracted way to approach to define formatting of table
contents. By defining in this way, the formats can be
layered to be more specific and general cell styling can be done first.</p>
<p><code>frmt()</code> is the base definition of a format. This defines spacing, rounding,
and missing behaviour.</p>
<p><code>frmt_combine()</code> is used when two or more rows need to be combined into a
single cell in the table. Each of the rows needs to have a defined <code>frmt()</code>
and need to share a label.</p>
<p><code>frmt_when()</code> is used when a rows format behaviour is dependent on the value itself and is written similarly to <code><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">dplyr::case_when()</a></code>.
The left hand side of the equation is a <code>"TRUE"</code>for the default case or the right hand side of a boolean expression <code>"&gt;50"</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">frmt</span><span class="op">(</span><span class="va">expression</span>, missing <span class="op">=</span> <span class="cn">NULL</span>, scientific <span class="op">=</span> <span class="cn">NULL</span>, transform <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">frmt_combine</span><span class="op">(</span><span class="va">expression</span>, <span class="va">...</span>, missing <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">frmt_when</span><span class="op">(</span><span class="va">...</span>, missing <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-expression">expression<a class="anchor" aria-label="anchor" href="#arg-expression"></a></dt>
<dd><p>this is the string representing the intended format. See details: expression for more a detailed description.</p></dd>


<dt id="arg-missing">missing<a class="anchor" aria-label="anchor" href="#arg-missing"></a></dt>
<dd><p>when a value is missing that is intended to be formatted, what value to place. See details: missing for more a detailed description.</p></dd>


<dt id="arg-scientific">scientific<a class="anchor" aria-label="anchor" href="#arg-scientific"></a></dt>
<dd><p>a string representing the intended scientific notation to be appended to the expression. Ex. "e^XX" or " x10^XX".</p></dd>


<dt id="arg-transform">transform<a class="anchor" aria-label="anchor" href="#arg-transform"></a></dt>
<dd><p>this is what should happen to the value prior to formatting,
It should be a formula or function. Ex. <code>~.*100</code>if you want to convert a
percent from a decimal prior to rounding</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>See details: <code>...</code> for a detailed description.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>frmt object</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>

<div class="section">
<h3 id="expression">expression<a class="anchor" aria-label="anchor" href="#expression"></a></h3>

<ul><li><p><code>frmt()</code> All numbers are represented by "x". Any additional character are
printed as-is. If additional X's present to the left of the decimal point
than the value, they will be represented as spaces.</p></li>
<li><p><code>frmt_combine()</code> defines how the parameters will be combined as a
<code><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue::glue()</a></code> statement. Parameters need to be equal to the values in the
param column and defined in the expression as <code>"{param1} {param2}"</code>.</p></li>
</ul></div>

<div class="section">
<h3 id="missing">missing<a class="anchor" aria-label="anchor" href="#missing"></a></h3>

<ul><li><p><code>frmt()</code> Value to enter when the value is missing. When NULL, the value
is "".</p></li>
<li><p><code>frmt_combine()</code> defines how when all values to be combined are missing.
When NULL the value is "".</p></li>
</ul></div>

<div class="section">
<h3 id="-">...<a class="anchor" aria-label="anchor" href="#-"></a></h3>

<ul><li><p><code>frmt()</code> These dots are for future extensions and must be
empty.</p></li>
<li><p><code>frmt_combine()</code> accepts named arguments defining the <code>frmt()</code> to
be applied to which parameters before being combined.</p></li>
<li><p><code>frmt_when()</code>accepts a series of equations separated by commas, similar
to <code><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">dplyr::case_when()</a></code>. The left hand side of the equation is a <code>"TRUE"</code>for the
default case or the right hand side of a boolean expression <code>"&gt;50"</code>. The
right hand side of the equation is the <code>frmt()</code> to apply when the left
side evaluates to <code>TRUE</code>.</p></li>
</ul></div>

    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="body_plan.html">body_plan()</a></code> combines the frmt_structures to be applied to the
table body, and <code><a href="frmt_structure.html">frmt_structure()</a></code> defines which rows the formats will be applied
to.</p>
<p><a href="https://gsk-biostatistics.github.io/tfrmt/articles/body_plan.html">Link to related article</a></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">frmt</span><span class="op">(</span><span class="st">"XXX %"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt; frmt | Expression: `XXX %` &gt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">frmt</span><span class="op">(</span><span class="st">"XX.XXX"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt; frmt | Expression: `XX.XXX` &gt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">frmt</span><span class="op">(</span><span class="st">"xx.xx"</span>, scientific <span class="op">=</span> <span class="st">"x10^xx"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt; frmt | Expression: `xx.xx` &gt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">frmt_combine</span><span class="op">(</span></span></span>
<span class="r-in"><span> <span class="st">"{param1} {param2}"</span>,</span></span>
<span class="r-in"><span> param1 <span class="op">=</span> <span class="fu">frmt</span><span class="op">(</span><span class="st">"XXX %"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> param2 <span class="op">=</span> <span class="fu">frmt</span><span class="op">(</span><span class="st">"XX.XXX"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt; frmt_combine | Expression: `{param1} {param2}` &gt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">frmt_when</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"&gt;3"</span> <span class="op">~</span> <span class="fu">frmt</span><span class="op">(</span><span class="st">"(X.X%)"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="st">"&lt;=3"</span> <span class="op">~</span> <span class="fu">frmt</span><span class="op">(</span><span class="st">"Undetectable"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt; frmt_when |  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   &gt;3 ~ &lt; frmt | Expression: `(X.X%)` &gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   &lt;=3 ~ &lt; frmt | Expression: `Undetectable` &gt; </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Missing:  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  &gt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">frmt_when</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"==100"</span><span class="op">~</span> <span class="fu">frmt</span><span class="op">(</span><span class="st">""</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="st">"==0"</span><span class="op">~</span> <span class="st">""</span>,</span></span>
<span class="r-in"><span>  <span class="st">"TRUE"</span> <span class="op">~</span> <span class="fu">frmt</span><span class="op">(</span><span class="st">"(XXX.X%)"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt; frmt_when |  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ==100 ~ &lt; frmt | Expression: `` &gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ==0 ~ </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   TRUE ~ &lt; frmt | Expression: `(XXX.X%)` &gt; </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Missing:  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  &gt;</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Becca Krouse, Christina Fillmore, GlaxoSmithKline Research &amp; Development Limited, Atorus Research LLC, Ellis Hughes, Karima Ahmad, Shannon Haughton.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

